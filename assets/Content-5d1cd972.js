import{o as l,c as s,n as d,b as k,w as u,d as C,F as P,r as x,e as y,t as f,f as b,u as h,g as L,h as S,a as o,i as m}from"./index-f54be310.js";import{_ as T}from"./ContentItem-19db1537.js";var V=(i,a)=>{const e=i.__vccOpts||i;for(const[g,r]of a)e[g]=r;return e};const w={data(){return{innerValue:1}},props:{modelValue:{type:Number},pageCount:{type:Number,required:!0},initialPage:{type:Number,default:1},forcePage:{type:Number},clickHandler:{type:Function,default:()=>{}},pageRange:{type:Number,default:3},marginPages:{type:Number,default:1},prevText:{type:String,default:"Prev"},nextText:{type:String,default:"Next"},breakViewText:{type:String,default:"…"},containerClass:{type:String,default:"pagination"},pageClass:{type:String,default:"page-item"},pageLinkClass:{type:String,default:"page-link"},prevClass:{type:String,default:"page-item"},prevLinkClass:{type:String,default:"page-link"},nextClass:{type:String,default:"page-item"},nextLinkClass:{type:String,default:"page-link"},breakViewClass:{type:String},breakViewLinkClass:{type:String},activeClass:{type:String,default:"active"},disabledClass:{type:String,default:"disabled"},noLiSurround:{type:Boolean,default:!1},firstLastButton:{type:Boolean,default:!1},firstButtonText:{type:String,default:"First"},lastButtonText:{type:String,default:"Last"},hidePrevNext:{type:Boolean,default:!1}},computed:{selected:{get:function(){return this.modelValue||this.innerValue},set:function(i){this.innerValue=i}},pages:function(){let i={};if(this.pageCount<=this.pageRange)for(let a=0;a<this.pageCount;a++){let e={index:a,content:a+1,selected:a===this.selected-1};i[a]=e}else{const a=Math.floor(this.pageRange/2);let e=t=>{let c={index:t,content:t+1,selected:t===this.selected-1};i[t]=c},g=t=>{let c={disabled:!0,breakView:!0};i[t]=c};for(let t=0;t<this.marginPages;t++)e(t);let r=0;this.selected-a>0&&(r=this.selected-1-a);let n=r+this.pageRange-1;n>=this.pageCount&&(n=this.pageCount-1,r=n-this.pageRange+1);for(let t=r;t<=n&&t<=this.pageCount-1;t++)e(t);r>this.marginPages&&g(r-1),n+1<this.pageCount-this.marginPages&&g(n+1);for(let t=this.pageCount-1;t>=this.pageCount-this.marginPages;t--)e(t)}return i}},methods:{handlePageSelected(i){this.selected!==i&&(this.innerValue=i,this.$emit("update:modelValue",i),this.clickHandler(i))},prevPage(){this.selected<=1||this.handlePageSelected(this.selected-1)},nextPage(){this.selected>=this.pageCount||this.handlePageSelected(this.selected+1)},firstPageSelected(){return this.selected===1},lastPageSelected(){return this.selected===this.pageCount||this.pageCount===0},selectFirstPage(){this.selected<=1||this.handlePageSelected(1)},selectLastPage(){this.selected>=this.pageCount||this.handlePageSelected(this.pageCount)}},beforeMount(){this.innerValue=this.initialPage},beforeUpdate(){this.forcePage!==void 0&&this.forcePage!==this.selected&&(this.selected=this.forcePage)}},B=["tabindex","innerHTML"],H=["tabindex","innerHTML"],M=["onClick","onKeyup"],N=["tabindex","innerHTML"],K=["tabindex","innerHTML"],F=["innerHTML"],R=["innerHTML"],_=["onClick","onKeyup"],O=["innerHTML"],q=["innerHTML"];function z(i,a,e,g,r,n){return e.noLiSurround?(l(),s("div",{key:1,class:d(e.containerClass)},[e.firstLastButton?(l(),s("a",{key:0,onClick:a[8]||(a[8]=t=>n.selectFirstPage()),onKeyup:a[9]||(a[9]=u(t=>n.selectFirstPage(),["enter"])),class:d([e.pageLinkClass,n.firstPageSelected()?e.disabledClass:""]),tabindex:"0",innerHTML:e.firstButtonText},null,42,F)):C("",!0),n.firstPageSelected()&&e.hidePrevNext?C("",!0):(l(),s("a",{key:1,onClick:a[10]||(a[10]=t=>n.prevPage()),onKeyup:a[11]||(a[11]=u(t=>n.prevPage(),["enter"])),class:d([e.prevLinkClass,n.firstPageSelected()?e.disabledClass:""]),tabindex:"0",innerHTML:e.prevText},null,42,R)),(l(!0),s(P,null,x(n.pages,t=>(l(),s(P,null,[t.breakView?(l(),s("a",{key:t.index,class:d([e.pageLinkClass,e.breakViewLinkClass,t.disabled?e.disabledClass:""]),tabindex:"0"},[y(i.$slots,"breakViewContent",{},()=>[b(f(e.breakViewText),1)])],2)):t.disabled?(l(),s("a",{key:t.index,class:d([e.pageLinkClass,t.selected?e.activeClass:"",e.disabledClass]),tabindex:"0"},f(t.content),3)):(l(),s("a",{key:t.index,onClick:c=>n.handlePageSelected(t.index+1),onKeyup:u(c=>n.handlePageSelected(t.index+1),["enter"]),class:d([e.pageLinkClass,t.selected?e.activeClass:""]),tabindex:"0"},f(t.content),43,_))],64))),256)),n.lastPageSelected()&&e.hidePrevNext?C("",!0):(l(),s("a",{key:2,onClick:a[12]||(a[12]=t=>n.nextPage()),onKeyup:a[13]||(a[13]=u(t=>n.nextPage(),["enter"])),class:d([e.nextLinkClass,n.lastPageSelected()?e.disabledClass:""]),tabindex:"0",innerHTML:e.nextText},null,42,O)),e.firstLastButton?(l(),s("a",{key:3,onClick:a[14]||(a[14]=t=>n.selectLastPage()),onKeyup:a[15]||(a[15]=u(t=>n.selectLastPage(),["enter"])),class:d([e.pageLinkClass,n.lastPageSelected()?e.disabledClass:""]),tabindex:"0",innerHTML:e.lastButtonText},null,42,q)):C("",!0)],2)):(l(),s("ul",{key:0,class:d(e.containerClass)},[e.firstLastButton?(l(),s("li",{key:0,class:d([e.pageClass,n.firstPageSelected()?e.disabledClass:""])},[k("a",{onClick:a[0]||(a[0]=t=>n.selectFirstPage()),onKeyup:a[1]||(a[1]=u(t=>n.selectFirstPage(),["enter"])),class:d(e.pageLinkClass),tabindex:n.firstPageSelected()?-1:0,innerHTML:e.firstButtonText},null,42,B)],2)):C("",!0),n.firstPageSelected()&&e.hidePrevNext?C("",!0):(l(),s("li",{key:1,class:d([e.prevClass,n.firstPageSelected()?e.disabledClass:""])},[k("a",{onClick:a[2]||(a[2]=t=>n.prevPage()),onKeyup:a[3]||(a[3]=u(t=>n.prevPage(),["enter"])),class:d(e.prevLinkClass),tabindex:n.firstPageSelected()?-1:0,innerHTML:e.prevText},null,42,H)],2)),(l(!0),s(P,null,x(n.pages,t=>(l(),s("li",{key:t.index,class:d([e.pageClass,t.selected?e.activeClass:"",t.disabled?e.disabledClass:"",t.breakView?e.breakViewClass:""])},[t.breakView?(l(),s("a",{key:0,class:d([e.pageLinkClass,e.breakViewLinkClass]),tabindex:"0"},[y(i.$slots,"breakViewContent",{},()=>[b(f(e.breakViewText),1)])],2)):t.disabled?(l(),s("a",{key:1,class:d(e.pageLinkClass),tabindex:"0"},f(t.content),3)):(l(),s("a",{key:2,onClick:c=>n.handlePageSelected(t.index+1),onKeyup:u(c=>n.handlePageSelected(t.index+1),["enter"]),class:d(e.pageLinkClass),tabindex:"0"},f(t.content),43,M))],2))),128)),n.lastPageSelected()&&e.hidePrevNext?C("",!0):(l(),s("li",{key:2,class:d([e.nextClass,n.lastPageSelected()?e.disabledClass:""])},[k("a",{onClick:a[4]||(a[4]=t=>n.nextPage()),onKeyup:a[5]||(a[5]=u(t=>n.nextPage(),["enter"])),class:d(e.nextLinkClass),tabindex:n.lastPageSelected()?-1:0,innerHTML:e.nextText},null,42,N)],2)),e.firstLastButton?(l(),s("li",{key:3,class:d([e.pageClass,n.lastPageSelected()?e.disabledClass:""])},[k("a",{onClick:a[6]||(a[6]=t=>n.selectLastPage()),onKeyup:a[7]||(a[7]=u(t=>n.selectLastPage(),["enter"])),class:d(e.pageLinkClass),tabindex:n.lastPageSelected()?-1:0,innerHTML:e.lastButtonText},null,42,K)],2)):C("",!0)],2))}var D=V(w,[["render",z]]);const E={class:"container"},I={class:"content"},A={__name:"Content",props:{type:String},setup(i){const a=h(),e=L(()=>a[g.type]),g=i;a.getPopular(g,1);const r=n=>{a.getPopular(g,n),window.scrollTo({top:0,behavior:"smooth"})};return(n,t)=>(l(),s("div",E,[k("h2",null,f(i.type=="movie"?"Все фильмы":"Все cериалы"),1),k("div",I,[(l(!0),s(P,null,x(e.value,(c,v)=>(l(),S(T,{key:v,item:c,type:i.type},null,8,["item","type"]))),128))]),o(m(D),{"page-count":500,"click-handler":r,"prev-text":"пред","next-text":"след","container-class":"paginate-container"})]))}};export{A as _};
